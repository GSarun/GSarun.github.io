<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>Aui_th</title>
  <style>
    body { font-family: sans-serif; text-align: center; background: #f0f0f0; }
    #gameArea { position: relative; width: 400px; height: 400px; margin: 20px auto; background: #fff; border: 2px solid #333; overflow: hidden; }
    .word { position: absolute; font-size: 24px; color: #333; }
    #inputBox { margin-top: 20px; font-size: 18px; padding: 5px; }
    #status { margin-top: 10px; font-weight: bold; }
  </style>
</head>
<body>
  <h1>เกมหัดพิมพ์</h1>
  <div id="gameArea"></div>
  <input type="text" id="inputBox" placeholder="พิมพ์คำที่เห็น..." autofocus />
  <div id="status"></div>

  <script>
    const words = ["แมว", "หมา", "บ้าน", "รถ", "ต้นไม้", "ทะเล", "ภูเขา", "ดวงจันทร์"];
    const gameArea = document.getElementById("gameArea");
    const inputBox = document.getElementById("inputBox");
    const status = document.getElementById("status");

    let missed = 0;
    let activeWords = [];

    function createWord() {
      const wordText = words[Math.floor(Math.random() * words.length)];
      const wordElem = document.createElement("div");
      wordElem.className = "word";
      wordElem.textContent = wordText;
      wordElem.style.left = Math.random() * 300 + "px";
      wordElem.style.top = "0px";
      gameArea.appendChild(wordElem);

      const wordObj = { elem: wordElem, text: wordText, y: 0 };
      activeWords.push(wordObj);
    }

    function updateWords() {
      activeWords.forEach((word, index) => {
        word.y += 2;
        word.elem.style.top = word.y + "px";

        if (word.y > 380) {
          missed++;
          gameArea.removeChild(word.elem);
          activeWords.splice(index, 1);
          checkGameOver();
        }
      });
    }

    function checkGameOver() {
      if (missed >= 3) {
        status.textContent = "Game Over!";
        clearInterval(gameLoop);
        inputBox.disabled = true;
      } else {
        status.textContent = `พลาดไปแล้ว ${missed} คำ`;
      }
    }

    inputBox.addEventListener("input", () => {
      const typed = inputBox.value.trim();
      for (let i = 0; i < activeWords.length; i++) {
        if (activeWords[i].text === typed) {
          gameArea.removeChild(activeWords[i].elem);
          activeWords.splice(i, 1);
          inputBox.value = "";
          break;
        }
      }
    });

    const gameLoop = setInterval(() => {
      if (Math.random() < 0.3) createWord();
      updateWords();
    }, 500);
  </script>

</body>
</html>
